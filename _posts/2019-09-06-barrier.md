---
layout: single
title: 하나의 키보드 마우스로 여러 기계 동시 사용하기(KVM 구성)
date: 2019-09-11 10:33:30.000000000 +09:00
type: post
header:
    teaser: "https://t1.daumcdn.net/cfile/tistory/9912C7455B3E0FE430"
    image: "https://t1.daumcdn.net/cfile/tistory/9912C7455B3E0FE430"
categories:
- IT
tags: []
---

여러 머신을 오가며 작업을 해야할 때, 키보드와 마우스를 갈아끼우기란 너무나도 귀찮은 일이다. 서버실에서 볼 수 있는 이런 물건
![KVM machine](data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxISEhUSEBIWFRUWFRYVEhUWFRYVEhUVFRYYFhUWFRUYHSggGBolGxgWITEhJSorLi4uGB8zODMsNygtLisBCgoKDQ0NFQ8PFS0ZFRkrKys3LTc3NysrNyssKystKy03Kys3ODErNCsrNysrMjgrLTI3NystKzgrLSsrLzc3LP/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABQIDBAYHCAH/xABGEAABAwEEBQkEBwYEBwAAAAABAAIDEQQSITEFQVFhcQYHIjKBkaGxwRMUQlIjQ3KSwtHwM2KCorLhRFNj0hUWJHOT4vH/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAQID/8QAHREBAQEAAAcAAAAAAAAAAAAAAAERAgMSMUFCcf/aAAwDAQACEQMRAD8A7iiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIvjnAYnAazqQfUUJb+V9ghwktcQIzDXB7vusqVrtu52dHs6ntZT+6yg73keSDfUXJLZz0D6qyHi+T8Ib6qEt/PLbaOLIoGgCo6Lyd2JdTPcg7si8xTc82l3ZSxN+zC31qsKXnV0w7/GEfZjjH4UHqpF5MdzlaYP+Ol7AweTVVZOcLSpeA62zEGtRWmo7Ag9YovMI5faSH+Lk+8VkQ84+kxlaSeIB81NHpZF56s3OnpQZva/jG30ClLNzwW4dezwnsc0/wBSujuKLklm55HfWWRv8MtPQrqej7UJoo5WigkY14BzAe0OAPegyEREBERAREQEREBERAREQEREBcA5ydIPmt84L3FjHiNjKm4240B1G5Vv3jXeu/ri3OdYIo7cTFG1t+Nsk2+Ql3SAyFQATtNTmg58Wqy4bvNSkrDSt1u3P/1UbaSR8I7/AOyiLJ4eax7d1CAMTTKp3+iomlPyjv8A7LEktB+Ud/8AZBZslnNMWkcRRX/ZcPBYzrYflHerZtp+UeKqswxcO8L7AyjgcMK62ndl2rB99dsHinvrtg8UEwZz8w7Kei+i0H5/EqF97du7k98du7kwTPtRrdXvVTZB+gVCi2P3dyzNHzOcTeOQGraiJH3traVrjWmWqlfML1boSO7Z4WfLFG3uYAuScxUV6eZ51RAV+08f7F2cBFfUREBERAREQEREBERAREQEREBcS5yJL9stFNV1jeyNo/qqu2rgnKSX2lold81oJHASXvIIIu1MUNa2KetIURa2qCCtDVgShStoao2UIMGQKwVlSBYzgqKUREBERBU1SWih1jw9VGtUrowYHj6IO4cwsFG2l/8A2m+Mh9Qusrm3MbDSySu2ygfdjafxLpKAiIgIiICIiAiIgIiICIiAiIgt2mW6xzj8LS7uFV5+kxeyudXOP3SD4uC7hypmuWSd3+k4Di4XR5riDf2nBh/mI/2lBRaAom1BS06jLSoIa0tUZMFLWkKMnCDAlCxXrMlCxJFRaREQECL6EFbFL6PHQ7SolimbEOiP1mUHovmehu6PB+aV57qN/Ct3Wr82cV3Rtn3iR3fK8jwotoQEREBERAREQEREBERAREQEREGs84s12xPHzvY3udf/AArj8B6Tzua3uq78QXTedaekMLPmkLvutI/GuXWU4OO15/lAZ+FB9nKjbQs2d6j7Q5QR1pUbaFIWgqOnKDClWJKsuVYkqosoiICBEQXGKesQwYPs+i18FbFZB0mjf5IPUXIuK7YLKP8AQjP3mh3qppYmiIbkETPlijb3NAWWgIiICIiAiIgIiICIiAiIgIiIOY87do+lhZsY533nU/Cue2d/QG+rvvEu9Vs/Ota6214/y4mN/lL/AMS0+9RoGwAdwogqmkWBPIq5pVgTSqC3M9R8zlemkWJI5BZlKxJCr0jljuKopREQEREFcIq4DaQO8rZtDx352N+Z1O/D1WuWQdNvEHuxW4chYb9vs7dssf8AW1B6pAX1EQEREBERAREQEREBERAREQERQPKTlbZbEPpX3pKdGJnSkPEZNG80QcZ5eWn2tttRH+a5n/j+j/CtfmkWPpXSpfPKSYwXPLyDJQ1eS4ilMwSsf25OYFNoeHeWKCuV5WHK4q69yx3vUGPITsPcsaQnYsxz1XZQC7pYjOm3Z2IvDNsnZDSOVqq2l9njrT2bsakE3hTE0BAOIyxGKiJKVOGFT570l3w3x8vp9pfiNRZrmjYO5U3BsHcFXNiIsr2bdg8UETdnifzQUWLrjgf6Stp5JWl0c/tYzR7KOaaA0IOBocCtdja0YgY0pmpjk/KA5xJArhiaZCqDpzecHSA+uB4xx+gWdo3nAtz5Y2F0ZBe0O+jp0S4XsQcMFojZAciO9TGhoReYXa3NOsYBwIxHf3LI9AorVmkvNDtuKurQIiICIiAiIgIitWm0MjaXyOaxjRVznENaBtJOSC6sDTGmYLKz2lolbG3VU9Jx2NaMXHcFzzlbztRxhzLCA6mBnkwjH2GZvO80G4riunuVk1oeXukdI85yPxNNjG5NG5B1DlpzuPILLLWFmPSwNof9kZRjfid4XHtJablmJq4gE1OJLnV1vccSVgta55JJrtJUhYNHucaMaXO8vyCDCfbZD1nV4gHzCv2O2UreIGoUaG4Znqjgpz/hFob8LT2/mqTomY9aEHgW/moMn/mOA9aGHeAwt7Khywp7dE5xLSGgmoaKkDcCSSh0NX6nHHAYnDgrEmh9sTxhXIj9cFRW60xXaZuvZ9GlKd9aq3M+Mhl2ladMkDOurHGix36OYNThShOeFcq4YKh2j2jC84HWCMuKDNLITKACBGc3UcKYbM81jxxNc9rcmueG1LqAAuAqSchTGtMNisHR+yTv/wDq+e4O1PHiglNI6NjbIYon33B9yokjdGdpDgBTHbsKxLbo50T7js8KULHZ1zuEgZHWsU2KQax3/mqRBKMvAhBfmstKdIGuVPXYrNnYHZ3qY1ugE5AjA9qSGc9a8dmsjgsd0TqDonDcdtUGd7vH88o4xV8ipXQ0LGuHTvBzHuxbTJwFaHgfFayGOGojsIWx6Jc6rLxLiAWsGvE1PjgP7INjsNlDnYNAGBfgBUfC09tfFblyK0W6e0gO6sfSeRlXNo7qFQdlg9mza7N1NbzgAO2g7F17kLoX3ezi9139J53lSDY2NoKDUvqIqCIiAiKLm5RWNkroX2qFsjaXmOlY1wqAQCCc6EHtCCURazyp5c2OwN+lkvyOALIo6OkdUVadjQdpIrqquJctecq1WurHP9hCa0gjJvPH+o/N3DBu5B1jlZznWWykxWf/AKmfK6xwETD+/Jl2Cu+i4hyt5c2i1urPJfoatib0YIzubrO81K1W0W9zsB0W7B6nWrUFnc/ht/JB8tFofIeka7BqHALLsWjnE1OH61lSOjtHRgi+6mVTS8aeVd1QpkvjALY7tATSWt2Rw1tuXyANWWIQRbbGGkC605Z1oO7D1WRFCMcujspU+nb5q8I6GoaRXAAA4fdz/WSOaR0TngTQ1zG0V1b/ACUFN5wAo5wJPRAcQKbzX9a6K4y0PBIEjxQVx8sfBWiQTqp/D45I0YOOvt7cQafrWgyRpF4AN8UINasHDHDHsqrg0m/Xc4XXA47hqWE5mAH+7V2YeK+/FqyIwLTWurV28UGYdIkuqWgkbJXNb3ZFV/8AEGnrQg1xzY7LdTHNRoGBw8BhvqD4b18e3Kopl8wr4eKCTdNAetA7Op6Dc9poVaLLGc2EY1yfnv3bsliMNHGh1HJwHfhjhqX2OXAhxOxpvABuBxN3rZoMoWKxmlHkY1zIruJIyw8VbdoaA9W0Ux1lpPdULH9pjdDqu/l1VpsovuJwABp1nXWkUrTGlKVwQXDydd8EzXfw+oJUbpKwyw0vOab2QBNcN1BgssNqeoCBn0XDHAgChOorFneKHAYGgIJxOsUOw+qIw6EmhPHZvW18j9GXg+0PwDWkR1PxHAGuxta7zvC17R9jdLI2JmbjidQGdTuAxK6T7MQxCONtcBHGKA4uwJO8i9iNZrlVFS3IzQwntOX0cTr79hkd+Q8111opgoLkdocWaztaeu7pPOsuOJU8qCIiAiIgLhfO1BK21WoNljELvdrQ+FzmCVzyz2Akia4XjS5R105Zhd0XKOd/QBllEzYjIfYezaWvuujka9zmlzSKPaQ4gioIopRyD2jBZ5KNAkbLG4v+P2ZAYG1zujHBa5NVzzTGp7e9bKbIwVD6hxFHAgkdFxplU1qqBo9nwuaBxDf6qIIaGxCu3YNQ47VtGiOTz3UdJVrdnxHs1BU2OzujcHtaDTEYVapiLTrvjjHFpp4GvmgyxomL5B2Fw9V8doaI/MO38wVVFpqI53m8W/lVZ1kt8BcLzg5usBwa7dg4jBBGP5PxNaZJJPZxjNzmg1PytApecod1ss1SGQzhupwma1x3kXafrNbrpfRVltZDnSysoKNaKGMcG3SO4qHfyOaSfZ2pm4PbdPg6vgg1/wBtBkHzMGq9GyTyd6KuCzMkcGRSsc5xo0OiexxOzBnqpWXkTaRiHREbb5A8WqR0bo5kDaMN55FHy7f3Y9jN+Z4UQaradHyxktLRgaEi8R2OBorT3OoBdyJxvAuI2GoxGHidq3cMVLogcwDxFUGkvdj1CBQVo0Gp1mpcaE7sNgCpDmgGpAA6oqWvOXZ64cFubrDGc2N7grTtExH4KcHOHqg1D3iuOzDDXjhWgy8alfJcxVjml2IF1rq95W0SaAiPzfynzasd3Jto6jy3sp/SQggqXMBQvJAcGmhrWlG4ZcF9kYR0AauJBJIbQuoMSDqzpXbvUw/k9JmJATSmJNadoKjbbYHRG7IWkkV6rDhvugFEY1r6IETQNeNMxreHVzy/VVHzuBpSuGojDdjXGu9XpgG1ApVxqaVAA2CpNFk8n9F+3lDT1B0pPs/L2nDhXYg2XkXor2cftnDpSDo7mZ1/iOPADet55GaL94tN9wrHDlsMmvuy71CyPNAGDpOIZGKfEcBhsGfYurcltEizWdkYzpVx1knMlFS4CIioIiICIiAqXxg5gFVIg55ys5s47VIZYnezcc6ZHsWm23mmtbf2b2uXdUQebLXyEt0ZqYa725qLnsFrj6zJRxq4dxqvUxCsy2ON3WY09iDyobVI3rD7zaeVEFu2taeBI86r0zauS9kk60Le5Qdt5s7DJ9XTgg4NHbgMg5p/dI86hZkemnDKZ4+0C7zBXULZzOwH9nIW9qgrZzPzj9nKDxUGqx6df88R4gA+FFls08/XG132XEfmrlr5tbezJgdwURaeSFsZ1rOewIJlvKBvxROHAg+dFdbp2E5h44t/IlanJYLQzrMlH3qK0ZZBmXdrR+SDd2aXgP1lOIcPRXm26E5Ss+8B5rQhbHfunsP5qtlqqQC1oqaVvUA3nDJBv7ZGnJzTwcD6q4GLRJwG0+Kvy4kYVxBoR3Ky20x7SP4T6BBvNvtLYmlzuxutx1ALSrTMXuLnYkmp/WxU+1Yfjb2mnmrjWA6weGKCBmnJm9mSbt9gIqaUJbXhmpCx6RlgLmwyEC+7U0k0NBeJGqm7XtKw9J2AtkDmjpXgSCaGgoa4q1Z5L147XOPeSVR1jmytPvOkA18olayGR7CY7jg4GMVIGHxHuXcAuDczMsPv7BG14f7vOJCSLhFYi0NGYydntC7wEH1ERAREQEREBERAREQEREBERAREQFS6MHMBVIgxpbBE7rRtPYFgWjkxZH9aFvcFMIg1G1c3dgf9UBwUPa+aOyO6pLV0ZEHIbRzNgYxTEbFD2rmitQ6jw5d2RB50tXN3pBlfow7fQV71DWnknbGdazu7BVepFQ6JpzA7kHmaxcjbZPiyJwpgaii2KfmgnEbXROxOLmnaV3dkYGQA7FWg5TyC5MWqy2qJ07W3I2SMBbHR30gGbr2Iw2LqwREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREH//2Q==)도 있지만 비싸다.


 이 문제를 소프트웨어적으로 해결해주는 유틸리티가 있다. 

[barrier](https://github.com/debauchee/barrier)가 그것인데, [Synergy](https://symless.com/synergy)를 fork해 만든 물건이다.

설정은 간단하다. 여러 대의 머신에 각각 `barrier`를 설치하고, 그 중에 server로 쓸 머신을 정해 `barrier`를 띄운다. 서버에는 키보드, 마우스를 연결한다. 그리고 나머지 머신은 `barrier`를 client로 띄운다. 이제 여러 머신에서 키보드와 마우스를 공유할 수 있다. 심지어 클립보드도 공유된다.

거의 zero config에 가깝게 두어도 잘 돌아간다. 서로 다른 OS 사이의 연결도 잘 된다.

Windows 키보드를 macOS에 잘(?) 쓰려면 약간의 설정이 필요하다. 내가 쓰는 설정은 이렇다.

<table>
  <tr>
    <th>Win</th>
    <th>mac</th>
  </tr>
  <tr>
    <td>Ctrl</td>
    <td>control</td>
  </tr>
  <tr>
    <td>Win</td>
    <td>option(alt)</td>
  </tr>
  <tr>
    <td>Alt</td>
    <td>command</td>
  </tr>
</table>

위와 같이 맵핑을 해주려면 아래와 같이 설정 파일에 내용을 추가해주면 된다.

```conf
# Barrier.sgc
section: screens
	macOS.local:
		alt = super
		super = alt
# blah blah    
```

이제 잘 돌아간다.
끝!
